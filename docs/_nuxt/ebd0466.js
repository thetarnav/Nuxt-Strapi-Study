(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{320:function(t,e,r){var content=r(328);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(24).default)("2214bbb8",content,!0,{sourceMap:!1})},327:function(t,e,r){"use strict";r(320)},328:function(t,e,r){(e=r(23)(!1)).push([t.i,"@-webkit-keyframes shimmer-data-v-464bbf1a{to{transform:translateX(100%)}}@keyframes shimmer-data-v-464bbf1a{to{transform:translateX(100%)}}.product-overlay[data-v-464bbf1a]{position:fixed;z-index:3000;top:0;left:0;right:0;bottom:0;background-color:rgba(18,18,20,.9);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;flex-direction:column;align-items:center;overflow:auto}.content-wrapper[data-v-464bbf1a]{position:relative;width:80vmin;padding:30px;border-radius:20px;background:#fffdfa;margin:100px auto}.close-button[data-v-464bbf1a]{border-radius:50%;width:50px;height:50px;display:flex;padding:0;margin:0;position:absolute;top:-25px;right:20px}.close-button>*[data-v-464bbf1a]{margin:auto}.close-button .icon[data-v-464bbf1a]{height:24px;width:24px}.close-button.share[data-v-464bbf1a]{right:90px}.desc[data-v-464bbf1a]{white-space:pre-wrap}",""]),t.exports=e},335:function(t,e,r){"use strict";r.r(e);r(59),r(41);var n=r(6),o=r(0),c=r(318),l=r.n(c),d=r(313),f=r.n(d),h=r(139),v=o.default.extend({name:"ProductOverlay",asyncData:function(t){var e=t.params,r=t.payload;return console.log("ASYNC DATA"),console.log("params",e,"payload",r),{id:e.productId||"",data:null!=r?r:{},reload:!0}},data:function(){return{id:"",data:{},ties:[],reload:!1,fetchedTies:!1}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,data,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.$graphql,data=t.data,o=h.e,console.log("FETCHING, data:",data,"id:",r),r){e.next=5;break}return t.closeOverlay(),e.abrupt("return");case 5:if(data.title){e.next=18;break}return e.prev=6,e.next=9,n.request(o,{id:r});case 9:c=e.sent,l=c.product,t.data=l,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.error(e.t0),t.closeOverlay();case 18:return e.next=20,t.fetchTies();case 20:case"end":return e.stop()}}),e,null,[[6,14]])})))()},watch:{id:function(){console.log("ID CHANGED"),this.fetchedTies=!1,this.$fetch()}},mounted:function(){var t=this.id,data=this.data,e=this.$fetchState;console.log("MOUNTED, title:",data.title,"fetch-pending:",e.pending),t?(this.$store.dispatch("seeProduct",t),void 0===data.title&&!1===e.pending&&this.$fetch()):this.closeOverlay()},methods:{fetchTies:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("FETCH TIES"),r=t.id,n=h.h,r){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$graphql.request(n,{id:r});case 7:o=e.sent,c=o.product.ties,l()(c,(function(t){return 0===t.products.length})),t.ties=c,t.fetchedTies=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))()},goToProduct:function(t){var e=f.a.stringify(this.$route.query);this.$router.push("/gallery/".concat(t,"?").concat(e))},closeOverlay:function(){var t=this.$route,e=this.$router,r=f.a.stringify(t.query);e.push("/gallery?".concat(r))},copyLink:function(){var t=this.id,link="".concat("http://192.168.43.129:1234","/gallery/").concat(t);console.log(link)}}}),x=(r(327),r(10)),component=Object(x.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-overlay"},[r("div",{staticClass:"content-wrapper"},[r("button",{staticClass:"close-button btn-dark",on:{click:t.closeOverlay}},[r("Icon",{staticClass:"icon",attrs:{icon:"times"}})],1),t._v(" "),r("button",{staticClass:"close-button share btn-dark",on:{click:t.copyLink}},[r("Icon",{staticClass:"icon",attrs:{icon:"share"}})],1),t._v(" "),r("h2",[t._v(t._s(t.data.title))]),t._v(" "),t.data.number?r("h6",[t._v("#"+t._s(t.data.number))]):t._e(),t._v(" "),r("pre",{staticClass:"desc"},[t._v("            "+t._s(t.data.description)+"\n         ")]),t._v(" "),r("pre",{staticClass:"desc"},[t._v("\t\t\t\t"+t._s(t.data.table)+"\n\t\t\t")]),t._v(" "),t.data.isAvailable?r("a",{attrs:{href:t.data.shopLink,target:"_blank"}},[t._v("link do sklepu")]):t._e(),t._v(" "),r("h4",[t._v("Podobne produkty:")]),t._v(" "),r("ul",{staticClass:"ties"},t._l(t.ties,(function(e){return r("li",{key:e.products[0].id},[r("a",{on:{click:function(r){return t.goToProduct(e.products[0].id)}}},[r("h5",[t._v(t._s(e.products[0].title))])])])})),0)])])}),[],!1,null,"464bbf1a",null);e.default=component.exports}}]);